#!/bin/bash

# Function to check if a number is prime
is_prime() {
    local num=$1
    if [ "$num" -le 1 ]; then
        return 1
    fi
    for ((i=2; i*i<=num; i++)); do
        if [ "$((num % i))" -eq 0 ]; then
            return 1
        fi
    done
    return 0
}

# Function to factorize the RSA number
factorize_rsa() {
    local n=$1
    for ((p=2; p<=n; p++)); do
        if [ "$((n % p))" -eq 0 ] && is_prime "$p"; then
            q=$((n / p))
            if is_prime "$q"; then
                echo "$n=$p*$q"
                return
            fi
        fi
    done
    echo "Unable to factorize $n."
}

# Main script starts here
if [ $# -ne 1 ]; then
    echo 'Usage: ./rsa <input_file>'
    exit 1
fi

input_file="$1"

while read -r number; do
    factorize_rsa "$number"
done < "$input_file"
